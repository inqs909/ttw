{
  "hash": "ebf839a472049169127791bae464b536",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tidy Tuesday on Wednesday\"\nsubtitle: \"www.inqs.info/ttw\"\ndate: 02-14-24\ndescription: Second week of Tidy Tuesday on Wednesday at CSUCI! Analyzing Valentines day sales.\nformat:\n  revealjs:\n    scrollable: true\n    preview-links: true\n    navigation-mode: vertical\n    controls-layout: bottom-right\n    controls-tutorial: true\n    incremental: false \n    chalkboard:\n      src: chalkboard.json\n      storage: chalkboard_pres\n      theme: whiteboard\n      chalk-width: 4\nengine: knitr\nknitr:\n  opts_chunk: \n    echo: true\n    eval: false\n    comment: \"#>\" \ndraft: false\ncategories:\n  - sp2024\nimage: img/post2.png\nexecute: \n  cache: true\n---\n\n\n# Tidy Tuesday\n\n## Tidy Tuesday\n\nTidy Tuesday is a weekly data vizualization challenge from the [R 4 Data Science Online Community](https://github.com/rfordatascience/tidytuesday).\n\n## Week 7\n\nThis week looks at the number of heritage sites in 3 countries from the [Unesco World Heritage Convention](https://whc.unesco.org/en/list).\n\n::: fragment\n\nThis is part of the [100 visualizations from 1 data set](https://100.datavizproject.com/).\n\n:::\n\n\n## Loading Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2024, week = 7)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> \n#> \tDownloading file 1 of 3: `historical_spending.csv`\n#> \tDownloading file 2 of 3: `gifts_age.csv`\n#> \tDownloading file 3 of 3: `gifts_gender.csv`\n```\n\n\n:::\n\n```{.r .cell-code}\nhistorical <- tuesdata$historical_spending\n```\n:::\n\n\n## Historical Gifts\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhistorical |> DT::datatable(options = list(pageLength = 5, dom = \"pt\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-208933e6e7d752ea2ee4\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-208933e6e7d752ea2ee4\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\"],[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],[60,58,59,60,54,55,55,54,55,51,55,52,53],[103,116.21,126.03,130.97,133.91,142.31,146.84,136.57,143.56,161.96,196.31,164.76,175.41],[8.6,10.75,10.85,11.64,10.8,12.7,13.11,12.68,13.12,14.12,17.3,15.32,15.9],[12.33,12.62,13.49,13.48,15,15.72,14.78,14.63,14.75,15.07,16.49,15.42,16.71],[21.52,26.18,29.6,30.94,30.58,36.3,33.11,32.32,34.1,30.34,41.65,30.71,45.75],[5.91,8.09,6.93,8.32,7.97,7.87,8.52,7.36,6.55,7.31,9.01,8.48,7.47],[23.76,24.86,25.66,27.93,27.48,27.27,33.46,28.46,26.96,27.72,30.78,21.39,31.35],[10.93,12,10.42,11.46,13.37,14.72,15.05,13.91,14.04,16.08,20.67,20.05,21.46],[8.42,11.21,8.43,10.23,9,11.05,12.52,10.23,11.04,10.31,14.21,15.67,17.22]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Year<\\/th>\\n      <th>PercentCelebrating<\\/th>\\n      <th>PerPerson<\\/th>\\n      <th>Candy<\\/th>\\n      <th>Flowers<\\/th>\\n      <th>Jewelry<\\/th>\\n      <th>GreetingCards<\\/th>\\n      <th>EveningOut<\\/th>\\n      <th>Clothing<\\/th>\\n      <th>GiftCards<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":5,\"dom\":\"pt\",\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[1,2,3,4,5,6,7,8,9,10]},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"Year\",\"targets\":1},{\"name\":\"PercentCelebrating\",\"targets\":2},{\"name\":\"PerPerson\",\"targets\":3},{\"name\":\"Candy\",\"targets\":4},{\"name\":\"Flowers\",\"targets\":5},{\"name\":\"Jewelry\",\"targets\":6},{\"name\":\"GreetingCards\",\"targets\":7},{\"name\":\"EveningOut\",\"targets\":8},{\"name\":\"Clothing\",\"targets\":9},{\"name\":\"GiftCards\",\"targets\":10}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"lengthMenu\":[5,10,25,50,100]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n## Examples\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\nhistorical_long <- historical |> \n    pivot_longer(cols = `PercentCelebrating`:`GiftCards`,\n                 names_to  = \"Variable\", values_to = \"Value\") \n\nheartdf = tibble(\n  t = seq(0, 2*pi, pi/60),\n  x = (16*sin(t)^3)/3 + 2016,\n  y = 13*cos(t) - 5*cos(2*t) - 2*cos(3*t) - cos(4*t) +30\n)\n\n\np1 <- historical_long |> \n  filter(!Variable %in% c(\"PercentCelebrating\", \"PerPerson\", \"GreetingCards\", \"GiftCards\")) |> \n  mutate(Variable = ifelse(Variable == \"EveningOut\", \"Evening Out\", Variable)) |> \n  ggplot(data = _) +\n    geom_polygon(data = heartdf, aes(x, y, group = 1), fill = \"red\", alpha = 0.2) +\n    geom_line(aes(x = Year, y =  Value, color = Variable)) +\n    theme_bw() +\n    ylab(\"Average Percent Spending\") +\n    xlab(\"Year\") +\n    theme(legend.title=element_blank()) +\n    scale_x_continuous(breaks = c(2010, 2014, 2018, 2022))\n\np1\n```\n\n::: {.cell-output-display}\n![](week_2_files/figure-revealjs/ex1-1.png){fig-alt='A line plot demonstrating the average percent on spending for different categories\nitems by year for Valentine\\'s Day. There is a transparent heart shape in\nthe background. The categories are candy, clothing, evening out, flowers,\nand jewelry. The plot shows an overall increase for all items, except in 2021\nwhere there was a noticeable dip. It picked up the following Year.\nThe plot shows that Jewelry and Evening Outs had the highest percentage,\nwhile Candy, Flowers, and Clothing were the lowest.' width=960}\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nggsave(p1, filename = \"posts/img/post2.png\", width = 7, height = 5)\n```\n:::\n\n\n\n\n\n# Installation\n\n## R Programming\n\nR is a statistical programming package that allows you to conduct different types of analysis.\n\n[R](https://www.r-project.org/)\n\n## RStudio\n\nA piece of software that organizes how you conduct statistical analysis in R.\n\n[RStudio](https://posit.co/downloads/)\n\n## Posit Cloud\n\nA web version of RStudio.\n\n[Posit Cloud](https://posit.cloud/login)\n\n## R Packages\n\n-   Tidyverse\n\n-   plotly\n\n-   ggthemes\n\n-   esquisse\n\n-   tidytuesdayR\n\n\n## Load R Package\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(plotly)\nlibrary(ggthemes)\nlibrary(esquisse)\nlibrary(tidytuesdayR)\n```\n:::\n\n\n\n- You must load packages every new R Session\n\n## Visualization Resources\n\n[R Graphics Cookbook](https://r-graphics.org/)\n\n[R Graph Gallery](https://r-graph-gallery.com/)\n\n[R Charts](https://r-charts.com/)\n\n[ggplot2](https://ggplot2.tidyverse.org/)\n\n\n\n# Graphing Examples\n\n## Downloading Data Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nu <- \"https://www.inqs.info/p/plotathon/owenWilsonWows.csv\"\nbasename(u)\ndownload.file(u,\n              file.path(getwd(), \"data\", basename(u)))\n```\n:::\n\n\n## Loading Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds <- read_csv(\"data/owenWilsonWows.csv\")\n```\n:::\n\n\n\n## Base Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie)) \n```\n:::\n\n\n## Histogram\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie)) +\n  geom_histogram()\n```\n:::\n\n\n## Box Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie)) +\n  geom_boxplot()\n```\n:::\n\n\n## Density Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie)) +\n  geom_density()\n```\n:::\n\n\n## Box Plot By Category\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie, y = era)) +\n  geom_boxplot()\n```\n:::\n\n\n## Density Plot By Category\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = total_wows_in_movie, color = era)) +\n  geom_density()\n```\n:::\n\n\n## Scatter Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = durationInSeconds, \n                  y = total_wows_in_movie)) +\n  geom_point()\n```\n:::\n\n\n## Scatter Plot by Group\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = durationInSeconds, \n                  y = total_wows_in_movie, color = era)) +\n  geom_point()\n```\n:::\n\n\n## Add Regression Line\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = durationInSeconds, \n                  y = total_wows_in_movie)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = F)\n```\n:::\n\n\n## Smooth Line\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = durationInSeconds, \n                  y = total_wows_in_movie)) +\n  geom_point() +\n  geom_smooth(se = F)\n```\n:::\n\n\n## Regression Lines by Group\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmds |> ggplot(aes(x = durationInSeconds, \n                  y = total_wows_in_movie,\n                  color = era)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = F)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.31/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}